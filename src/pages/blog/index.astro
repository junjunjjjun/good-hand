---
import Layout from "~/layouts/Layout.astro";
---

<Layout>
  <section class="min-h-screen bg-black text-white font-['Times New Roman']" style="font-family: 'Times New Roman', Times, serif;">
    <div class="relative z-10 flex flex-col items-center justify-center text-center px-4 pt-[45vh] pb-[35vh]" x-data="{ stars: 0, comment: '', reviews: [] }">

      <!-- Reviews So Far Section -->
      <div class="space-y-6 mb-16 w-full">
        <h2 class="text-4xl font-bold mb-8 drop-shadow-[0_0_12px_rgba(255,255,255,0.75)]">Reviews So Far</h2>

        <template x-for="review in reviews">
          <div class="border border-gray-700 p-6 rounded shadow">
            <div class="flex items-center mb-2 justify-center">
              <template x-for="i in 5">
                <span
                  :class="{ 'text-yellow-400': i <= review.stars, 'text-gray-500': i > review.stars }"
                  class="text-2xl"
                >★</span>
              </template>
            </div>
            <p class="text-gray-300 mt-2" x-text="review.comment"></p>
          </div>
        </template>
      </div>

      <!-- Divider -->
      <div class="border-t border-gray-700 my-12 w-full"></div>

      <!-- Leave a Review Form -->
      <h1 class="text-4xl font-bold mb-8 drop-shadow-[0_0_12px_rgba(255,255,255,0.75)]">Leave a Review</h1>

      <!-- Star Rating -->
      <div class="flex justify-center mb-4">
        <template x-for="i in 5">
          <button
            type="button"
            class="text-4xl focus:outline-none"
            @click="stars = i"
            :class="{ 'text-yellow-400': i <= stars, 'text-gray-500': i > stars }"
          >★</button>
        </template>
      </div>

      <!-- Comment Box -->
      <textarea
        x-model="comment"
        placeholder="Write your review..."
        class="w-full p-4 rounded bg-white text-black"
        rows="4"
      ></textarea>

      <!-- Submit Button -->
      <div class="text-center mt-4">
        <button
          class="px-6 py-3 bg-white text-black font-bold rounded hover:bg-gray-200 transition"
          @click="
            if (stars > 0 && comment.trim() !== '') {
              reviews.push({ stars, comment });
              stars = 0;
              comment = '';
            }
          "
        >
          Submit Review
        </button>
      </div>

    </div>
  </section>
</Layout>
